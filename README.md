# NEXT-Test
//8-queens puzzle.
// c#


public class EightQueens
    {
        //定義一個max表示共有多少個皇后
        static int _max = 8;
        static int[] _arr = new int[_max];
        static int _count = 0;

        static int _judgeCount = 0;
        public static void Test()
        {
            EightQueens.Check(0);

            Console.WriteLine($"一共有{_count}種解法");

            Console.WriteLine($"衝突的次數{_judgeCount}次");
        }

        private static void Check(int n)
        {
            if (n == _max) 
            {
                Print();

                return;
            }

            
            for (int i = 0; i < _max; i++)
            {
                _arr[n] = i;

                if (Judge(n))
                {
                 
                    Check(n + 1);
                }
            }
        }

        private static bool Judge(int n)
        {
            _judgeCount++;

            for (int i = 0; i < n; i++)
            {
                if (_arr[i] == _arr[n] || Math.Abs(n - i) == Math.Abs(_arr[n] - _arr[i]))
                {
                    return false;
                }
            }

            return true;
        }

        private static void Print()
        {
            _count++;

            for (int i = 0; i < _arr.Length; i++)
            {
                System.Console.Write(_arr[i] + " ");
            }

            System.Console.WriteLine();
        }
    }

//--------------------------------------------------------------------------------------------------------------------------------------
八皇后總共有 92 種解答，其中有許多重複的解：經過旋轉、鏡射可以轉換成同一種情形。若想要求得八皇后問題的獨立解，便需要再對 92 解進行篩選。
由於旋轉共有四種情形：0º、90º、180º、270º；且鏡射也有四種情形：無、上下、左右、上下+左右。四種旋轉與四種鏡射的任何一個組合都需要檢查，共有 16 種情形。
可以篩選出八皇后問題的 12 種獨立解:
1.
.Q......
....Q...
......Q.
Q......
.......Q
.....Q..
..Q.....

2.
..Q.....
....Q...
.Q......
.......Q
Q.......
......Q.
...Q....
.....Q..

3.
..Q.....
....Q...
.......Q
...Q....
Q.......
......Q.
.Q......
.....Q..

4.
.Q......
.....Q..
.......Q
..Q.....
Q.......
...Q....
......Q.
....Q...

5.
.Q......
......Q.
....Q...
.......Q
Q.......
...Q....
.....Q..
..Q.....

6.
Q.......
....Q...
.......Q
.....Q..
..Q.....
......Q.
.Q......
...Q....

7.
.Q......
......Q.
..Q.....
.....Q..
.......Q
....Q...
Q.......
...Q....

8.
..Q.....
.....Q..
.Q......
....Q...
........Q
Q.......
......Q.
...Q....

9.
.Q......
.....Q..
Q.......
......Q.
...Q....
.......Q
..Q.....
....Q...

10.
.Q......
...Q....
.....Q..
.......Q
..Q.....
Q........
......Q.
....Q...

11.
.Q......
....Q...
......Q.
Q.......
..Q.....
......Q
.....Q..
...Q....

12.
Q.......
.....Q..
.......Q
..Q.....
......Q.
...Q....
.Q......
....Q...
